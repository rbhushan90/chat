<ion-modal-view>
   <ion-header-bar>
     <div class="buttons">
        <button class="button button-clear button-positive" ng-click="Chat.counterOffer()">Counter</button>
     </div>
     <h1 class="title">Chat {{Chat.promiseId}}</h1>
     <div class="buttons">
       <button class="button button-clear button-positive" ng-click="Chat.hideModal()">Done</button>
     </div>

   </ion-header-bar>

 <ion-view title="Hello World Promise">

   <!-- collection-repeat only renders the visible elements. -->

   <ion-content class="has-header chat"  delegate-handle="chatScroll">
     <div>{{Chat.warn}}</div>
     <button class="button button-clear button-positive icon-left ion-ios-chatboxes"
         ng-click="Chat.logEventListener()">Log Event Listener</button>

     <ion-list>
       <ion-item>Invites</ion-item>
       <ion-item ng-repeat="invite in Chat.invitations">
         {{invite.toRoomName}}  {{invite.fromUserName}}
         <ion-option-button ng-click="Chat.acceptInvite(invite)" class="button-positive">Accept</ion-option-button>
         <ion-option-button ng-click="Chat.declineInvite(invite)" class="button-positive">Decline</ion-option-button>
       </ion-item>
     </ion-list>


     <div class="message-list">
       <div ng-repeat="item in Chat.list" class="message-wrapper">
         <span class="message" class="message-mine">
              <span class="chat-text">{{item.message}}</span>
          </span>
      </div>
     </div>
   </ion-content>

   <ion-footer-bar keyboard-attach class="bar-stable footer-chat item-input-inset">
     <button class="button button-clear button-icon button-positive icon ion-ios-upload-outline"></button>

     <label class="item-input-wrapper">
       <input
         ng-model="Chat.data.message"
         ng-keyup="$event.keyCode == 13 && Chat.sendMessage();"
         ng-focus="Chat.inputUp()"
         ng-blur="Chat.inputDown()"
         dir="auto"
         type="text"/>
     </label>

     <span ng-if="Chat.data.message.length > 0">
       <button ng-click="Chat.sendMessage()" class="button button-clear button-positive">Send</button>
     </span>
   </ion-footer-bar>
 </ion-view>

 </ion-modal-view>
